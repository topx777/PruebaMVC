@using Upds.Sistemas.ProgWeb2.Tintoreria.MVC.Models
@model Upds.Sistemas.ProgWeb2.Tintoreria.MVC.Models.ClienteModel

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<a class="" href="@Url.Action("../Cliente/Index")">Lista Cliente</a>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <div class="container">
        <h2>Registrar Cliente</h2>
        <div class="row">
            <div class="col s12 m4">
                <h4>Usuario</h4>
                <div class="form-group">
                    @Html.LabelFor(model=>model.Usuario.Username)
                    @Html.TextBoxFor(model => model.Usuario.Username, new { @class = "form-control ", @placeholder = "Usuario" })
                    @Html.ValidationMessageFor(model => model.Usuario.Username)
                </div>
                <div class="form-group">
                    @Html.TextBoxFor(model => model.Usuario.Password, new { @class = "form-control", @placeholder = "Password" })
                    @Html.ValidationMessageFor(model => model.Usuario.Password)
                </div>
                <div class="form-check">
                    @Html.CheckBoxFor(model=>model.Usuario.EsAdmin, new {@class= "form-check-input" })
                    @Html.LabelFor(model=>model.Usuario.EsAdmin, new { @class= "form-check-label" })
                    @Html.ValidationMessageFor(model => model.Usuario.EsAdmin)
                </div>
            </div>
            <div class="col s12 m4">
                  <div>
                      <h4>Persona</h4>
                      <div class="form-group">
                          @Html.LabelFor(model=>model.Ci )
                          @Html.TextBoxFor(model => model.Ci, new{ @placeholder="Ci", @class="form-control"})
                          @Html.ValidationMessageFor(model=>model.Ci)
                      </div>
                      <div class="form-group">
                          @Html.LabelFor(model=>model.Nombre)
                          @Html.TextBoxFor(model=>model.Nombre, new{ @placeholder="Nombre", @class="form-control"})
                          @Html.ValidationMessageFor(model=>model.Nombre)
                      </div>
                      <div class="form-group">
                          @Html.LabelFor(model=>model.PrimerApellido)
                          @Html.TextBoxFor(model => model.PrimerApellido, new{ @placeholder = "Primer Apellido", @class="form-control" })
                          @Html.ValidationMessageFor(model => model.PrimerApellido) 
                      </div>
                      <div class="form-group">
                          @Html.LabelFor(model=>model.SegundoApellido)
                          @Html.TextBoxFor(model => model.SegundoApellido, new{ @placeholder = "Segundo Apellido", @class="form-control" })
                          @Html.ValidationMessageFor(model => model.SegundoApellido)
                      </div>
                      <div class="form-group">
                          @Html.LabelFor(model => model.Sexo)
                          @Html.DropDownListFor(model => model.Sexo.IdSexo, (IEnumerable<SelectListItem>)ViewBag.ListaSexos, new {@style="display: block", @class="form-control"} )
                          @Html.ValidationMessageFor(model => model.Sexo)
                      </div>
                      <div class="form-group">
                          @Html.LabelFor(model => model.FechaNacimiento)
                          @Html.TextBoxFor(model => model.FechaNacimiento, new{@type="date", @class="form-control"})
                          @Html.ValidationMessageFor(model=> model.FechaNacimiento)
                      </div>
                  </div>
            </div>
            <div class="col s12 m4">
                <div>
                    <h4>Datos Cliente</h4>
                    <div class="form-group">
                        @Html.LabelFor(model=>model.Nit)
                        @Html.TextBoxFor(model => model.Nit, new{@placeholder="Nit", @class="form-control" })
                        @Html.ValidationMessageFor(model=>model.Nit)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model=>model.Razon)
                        @Html.TextBoxFor(model=>model.Razon,  new{ @placeholder="Razon", @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Razon)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model=>model.FechaRegistro)
                        @Html.TextBoxFor(model => model.FechaRegistro, new{@type="date", @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.FechaRegistro)
                    </div>
                    <hr />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12 m4">
                <h4>Correos</h4>
                @for(var i =0; i<Model.Correos.Count;i++)
                {
                    <div>
                        <h6 class="text-center">Correo @(i+1)</h6>
                        <div class="form-group">
                            @Html.LabelFor(correo=> Model.Correos[i].Nombre)
                            @Html.TextBoxFor(correo => Model.Correos[i].Nombre, new { @placeholder = "Nombre Correo", @class="form-control" })
                            @Html.ValidationMessageFor(correo => Model.Correos[i].Nombre)
                        </div>
                        <div class="form-check">
                            @Html.CheckBoxFor(correo => Model.Correos[i].Principal, new { @style = "display:block", @class = "form-check-input" })
                            @Html.LabelFor(correo => Model.Correos[i].Principal,new { @class= "form-check-label" })
                            @Html.ValidationMessageFor(correo => Model.Correos[i].Principal)
                        </div>
                          @if (i > 0)
                          {
                            <button type="submit" name="bCorreo" value="@i" class="btn btn-outline-warning">Eliminar</button>
                          }
                        <hr />
                    </div>
                }
                <input type="submit" name="resp" value="AddCorreo" class="btn btn btn-outline-info" />
            </div>
            <div class="col s12 m4">
                <h4>Direcciones</h4>
                @for (var i = 0; i < Model.Direcciones.Count; i++)
                {
                    <div>
                        <h6 class="text-center">Direccion @(i+1)</h6>
                        <div class="form-group">
                            @Html.LabelFor(direccion=>Model.Direcciones[i].Descripccion)
                            @Html.TextBoxFor(direccion => Model.Direcciones[i].Descripccion, new { @placeholder = "Descripccion", @class="form-control" })
                            @Html.ValidationMessageFor(direccion => Model.Direcciones[i].Descripccion)
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(direccion => Model.Direcciones[i].Tipo)
                            @Html.DropDownListFor(direccion => Model.Direcciones[i].Tipo.IdTipo, (IEnumerable<SelectListItem>)ViewBag.ListaTipo, new { @class="form-control" })
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(direccion => Model.Direcciones[i].Latitud)
                            @Html.TextBoxFor(direccion => Model.Direcciones[i].Latitud, new { @placeholder = "Latitud", @value = "", @class="form-control" })
                            @Html.ValidationMessageFor(direccion => Model.Direcciones[i].Latitud)
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(direccion => Model.Direcciones[i].Longitud)
                            @Html.TextBoxFor(direccion => Model.Direcciones[i].Longitud, new { @placeholder = "Longitud", @value = "", @class="form-control" })
                            @Html.ValidationMessageFor(direccion => Model.Direcciones[i].Longitud)
                         </div>
                        @if (i > 0)
                        {
                            <button type="submit" name="bDireccion" value="@i" class="btn btn-outline-warning">Eliminar</button>
                        }
                        <hr />
                    </div>
                }
                <input type="submit" name="resp" value="AddDireccion" class="btn btn-outline-info" />
            </div>
            <div class="col s12 m4">
                <h4>Telefonos</h4>
                @for (var i = 0; i < Model.Telefonos.Count; i++)
                {
                    <div>
                        <h6 class="text-center">Telefono @(i+1)</h6>
                        <div class="form-group">
                            @Html.LabelFor(telefono=>Model.Telefonos[i].Numero)
                            @Html.TextBoxFor(telefono => Model.Telefonos[i].Numero, new { @placeholder = "Numero", @class="form-control"})
                            @Html.ValidationMessageFor(telefono=>Model.Telefonos[i].Numero)
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(telefono=>Model.Telefonos[i].Tipo)
                            @Html.DropDownListFor(telefono => Model.Telefonos[i].Tipo.IdTipo, (IEnumerable<SelectListItem>)ViewBag.ListaTipo, new { @style = "display: block", @class="form-control" })
                        </div>
                        @if (i > 0)
                        {
                            <button type="submit" name="bTelefono" value="@i" class="btn btn-outline-warning">Eliminar</button>
                        }
                        <hr />
                    </div>
                }
                <input type="submit" name="resp" value="AddTelefono" class="btn btn-outline-info" />
            </div>
        </div>

        <div class="py-3">
            <input type="submit" name="resp" value="Registrar" class="btn btn-success btn-block" /> 
        </div>
    </div>
}

